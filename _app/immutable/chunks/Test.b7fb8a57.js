import{s as Ie,h as Se,o as ke,b as ne,k as qe,j as re}from"./scheduler.003e2365.js";import{S as Ee,i as Ae,g as B,s as y,m as V,h as M,j as z,x as te,c as F,n as T,f as h,k as q,E as oe,a as E,y as _,G as De,o as J,d as X,p as be,b as we,t as $,B as Ve,q as ie,I as ue,r as ce,e as fe,u as Te,v as de,w as _e}from"./index.111c759f.js";import{e as he}from"./each.e59479a4.js";import{g as pe,a as me}from"./spread.8a54911c.js";import{p as je}from"./stores.d878bb0b.js";function ve(e,f,a){const o=e.slice();return o[21]=f[a],o[22]=f,o[23]=a,o}function ge(e){let f=e[9](e[21].content.order=e[23])+"",a,o,A=e[9](e[8].push(e[21].realId))+"",D,v,g,d,b,I=e[23]+1+"",j,p,S,n,H,m,w;const k=[e[21].content,{inTestMode:"true"},{showCorrectAnswers:e[7]},{questionNumber:e[23]}];function L(l){e[12](l,e[23])}var C=e[21].type;function P(l,t){let u={};for(let G=0;G<k.length;G+=1)u=re(u,k[G]);return t!==void 0&&t&129&&(u=re(u,pe(k,[t&1&&me(l[21].content),k[1],t&128&&{showCorrectAnswers:l[7]},k[3]]))),l[2][l[23]]!==void 0&&(u.isCorrect=l[2][l[23]]),{props:u}}return C&&(n=ie(C,P(e)),ne.push(()=>ue(n,"isCorrect",L)),n.$on("message",e[10])),{c(){a=V(f),o=y(),D=V(A),v=y(),g=B("div"),d=B("div"),b=V("#"),j=V(I),S=y(),n&&ce(n.$$.fragment),m=fe(),this.h()},l(l){a=T(l,f),o=F(l),D=T(l,A),v=F(l),g=M(l,"DIV",{class:!0});var t=z(g);d=M(t,"DIV",{class:!0,"data-tip":!0});var u=z(d);b=T(u,"#"),j=T(u,I),u.forEach(h),t.forEach(h),S=F(l),n&&Te(n.$$.fragment,l),m=fe(),this.h()},h(){q(d,"class","badge badge-secondary badge-outline tooltip"),q(d,"data-tip",p="Id real: "+e[21].realId),q(g,"class","divider divider-start")},m(l,t){E(l,a,t),E(l,o,t),E(l,D,t),E(l,v,t),E(l,g,t),_(g,d),_(d,b),_(d,j),E(l,S,t),n&&de(n,l,t),E(l,m,t),w=!0},p(l,t){if(e=l,(!w||t&1)&&f!==(f=e[9](e[21].content.order=e[23])+"")&&J(a,f),(!w||t&1)&&A!==(A=e[9](e[8].push(e[21].realId))+"")&&J(D,A),(!w||t&1&&p!==(p="Id real: "+e[21].realId))&&q(d,"data-tip",p),t&1&&C!==(C=e[21].type)){if(n){be();const u=n;$(u.$$.fragment,1,0,()=>{_e(u,1)}),we()}C?(n=ie(C,P(e,t)),ne.push(()=>ue(n,"isCorrect",L)),n.$on("message",e[10]),ce(n.$$.fragment),X(n.$$.fragment,1),de(n,m.parentNode,m)):n=null}else if(C){const u=t&129?pe(k,[t&1&&me(e[21].content),k[1],t&128&&{showCorrectAnswers:e[7]},k[3]]):{};!H&&t&4&&(H=!0,u.isCorrect=e[2][e[23]],qe(()=>H=!1)),n.$set(u)}},i(l){w||(n&&X(n.$$.fragment,l),w=!0)},o(l){n&&$(n.$$.fragment,l),w=!1},d(l){l&&(h(a),h(o),h(D),h(v),h(g),h(S),h(m)),n&&_e(n,l)}}}function Be(e){let f,a,o,A="Resultado",D,v,g,d,b=e[0].length+"",I,j,p,S,n="Tiempo restante",H,m,w=e[3].toString().padStart(2,0)+"",k,L,C=e[4].toString().padStart(2,0)+"",P,l,t=e[5].toString().padStart(2,0)+"",u,G,K,W,Y,R,le="Comprobar resultado",N,x,ae,O=he(e[0]),c=[];for(let s=0;s<O.length;s+=1)c[s]=ge(ve(e,O,s));const Ce=s=>$(c[s],1,1,()=>{c[s]=null});return{c(){f=B("div"),a=B("div"),o=B("div"),o.textContent=A,D=y(),v=B("div"),g=V(e[1]),d=V("/"),I=V(b),j=y(),p=B("div"),S=B("div"),S.textContent=n,H=y(),m=B("div"),k=V(w),L=V(":"),P=V(C),l=V(":"),u=V(t),G=y();for(let s=0;s<c.length;s+=1)c[s].c();K=y(),W=B("hr"),Y=y(),R=B("button"),R.textContent=le,this.h()},l(s){f=M(s,"DIV",{class:!0});var r=z(f);a=M(r,"DIV",{class:!0});var i=z(a);o=M(i,"DIV",{class:!0,"data-svelte-h":!0}),te(o)!=="svelte-1ewrbjf"&&(o.textContent=A),D=F(i),v=M(i,"DIV",{class:!0});var U=z(v);g=T(U,e[1]),d=T(U,"/"),I=T(U,b),U.forEach(h),i.forEach(h),j=F(r),p=M(r,"DIV",{class:!0});var Z=z(p);S=M(Z,"DIV",{class:!0,"data-svelte-h":!0}),te(S)!=="svelte-8lal6y"&&(S.textContent=n),H=F(Z),m=M(Z,"DIV",{class:!0});var Q=z(m);k=T(Q,w),L=T(Q,":"),P=T(Q,C),l=T(Q,":"),u=T(Q,t),Q.forEach(h),Z.forEach(h),r.forEach(h),G=F(s);for(let ee=0;ee<c.length;ee+=1)c[ee].l(s);K=F(s),W=M(s,"HR",{class:!0}),Y=F(s),R=M(s,"BUTTON",{class:!0,"data-svelte-h":!0}),te(R)!=="svelte-fiykfn"&&(R.textContent=le),this.h()},h(){q(o,"class","stat-title"),q(v,"class","stat-value"),q(a,"class","stat"),q(S,"class","stat-title"),q(m,"class","stat-value"),q(p,"class","stat"),oe(p,"hidden",e[6]),q(f,"class","stats shadow flex flex-row"),q(W,"class","my-4"),q(R,"class","btn btn-lg btn-primary btn-block")},m(s,r){E(s,f,r),_(f,a),_(a,o),_(a,D),_(a,v),_(v,g),_(v,d),_(v,I),_(f,j),_(f,p),_(p,S),_(p,H),_(p,m),_(m,k),_(m,L),_(m,P),_(m,l),_(m,u),E(s,G,r);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(s,r);E(s,K,r),E(s,W,r),E(s,Y,r),E(s,R,r),N=!0,x||(ae=De(R,"click",e[13]),x=!0)},p(s,[r]){if((!N||r&2)&&J(g,s[1]),(!N||r&1)&&b!==(b=s[0].length+"")&&J(I,b),(!N||r&8)&&w!==(w=s[3].toString().padStart(2,0)+"")&&J(k,w),(!N||r&16)&&C!==(C=s[4].toString().padStart(2,0)+"")&&J(P,C),(!N||r&32)&&t!==(t=s[5].toString().padStart(2,0)+"")&&J(u,t),(!N||r&64)&&oe(p,"hidden",s[6]),r&1925){O=he(s[0]);let i;for(i=0;i<O.length;i+=1){const U=ve(s,O,i);c[i]?(c[i].p(U,r),X(c[i],1)):(c[i]=ge(U),c[i].c(),X(c[i],1),c[i].m(K.parentNode,K))}for(be(),i=O.length;i<c.length;i+=1)Ce(i);we()}},i(s){if(!N){for(let r=0;r<O.length;r+=1)X(c[r]);N=!0}},o(s){c=c.filter(Boolean);for(let r=0;r<c.length;r+=1)$(c[r]);N=!1},d(s){s&&(h(f),h(G),h(K),h(W),h(Y),h(R)),Ve(c,s),x=!1,ae()}}}function se(){document.querySelectorAll(".btn").forEach(o=>{o.disabled=!0}),document.querySelectorAll(".radio").forEach(o=>{o.disabled=!0}),document.querySelectorAll(".checkbox").forEach(o=>{o.disabled=!0})}function Me(e,f,a){let o;Se(e,je,t=>a(16,o=t));let{questions:A=[]}=f,D=0,v=[],g=[],d=0,b=0,I=0;const j=o.url.searchParams.get("h"),p=o.url.searchParams.get("m");let S=!1,n=[];o.params.path;const H=()=>"";function m(t){v[t.detail.order]=t.detail.isSolved}let w;function k(){w=setInterval(()=>{if(I===0&&b>0)a(4,b-=1),a(5,I=59);else if(I===0&&b===0&&d>0)a(3,d-=1),a(4,b=59);else if(I===0&&b===0&&d===0){(j>0||p>0)&&(se(),C()),clearInterval(w);return}else a(5,I-=1)},1e3)}let L=!1;function C(){a(1,D=v.filter(t=>t==!0).length),a(2,g=[...v]),clearInterval(w),se(),a(7,L=!0)}ke(async()=>{v=new Array(A.length),a(3,d=parseInt(j??0)),a(4,b=parseInt(p??0)),d===0&&b===0&&I===0&&a(6,S=!0),k()});function P(t,u){e.$$.not_equal(g[u],t)&&(g[u]=t,a(2,g))}const l=()=>{se(),C()};return e.$$set=t=>{"questions"in t&&a(0,A=t.questions)},[A,D,g,d,b,I,S,L,n,H,m,C,P,l]}class ye extends Ee{constructor(f){super(),Ae(this,f,Me,Be,Ie,{questions:0})}}export{ye as T};
